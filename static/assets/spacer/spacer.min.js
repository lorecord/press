!function r(i,o,a){function u(t,e){if(!o[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},i[t][0].call(n.exports,function(e){return u(i[t][1][e]||e)},n,n.exports,r,i,o,a)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a=e("./core/core.js"),f=(o=a)&&o.__esModule?o:{default:o};var l=/^(script|link|style|code)$/i,p=/^(div|p|h1|h2|h3|h4|h5|h6|blockqoute|pre|textarea|nav|header|main|footer|section|sidbar|aside|table|li|ul|ol|dl)$/i,d=/^(br|hr|img|video|audio)$/i;f.default.config({tagAttrMap:{"*":["title"],optgroup:["label"],input:["placeholder"],img:["alt"]}});(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,f.default),r(u,[{key:"spacePage",value:function(e,r,i){var o=this;e="string"==typeof e?document.querySelectorAll(e):e||document,(r=this.resolveOptions(r)).wrapper&&(r.spacingContent=r.spacingContent.replace(" ","&nbsp;")),(e=!e.forEach?[e]:e).forEach(function(e){var t,n;!function t(n,o,r){if(o.tagName&&l.test(o.tagName)||o.nodeType===Node.COMMENT_NODE)return;var e=Object.assign({},r,{wrapper:!1});var i=Object.assign({},e,{spacingContent:r.spacingContent.replace("&nbsp;"," ")});var a=r;o.parentNode&&"TITLE"===o.parentNode.tagName&&(a=i);n.custom(a,function(e,t){var n=f.default.createSnippet(o.nodeType===Node.TEXT_NODE?o.data:o.textContent);n&&n.text&&e({current:n})},function(e,t){if(o.previousSibling&&(!o.previousSibling.tagName||!p.test(o.previousSibling.tagName)&&!d.test(o.previousSibling.tagName))&&(!o.tagName||!p.test(o.tagName)&&!d.test(o.tagName)))return f.default.createSnippet(o.previousSibling.nodeType===Node.TEXT_NODE?o.previousSibling.data:o.previousSibling.textContent)},function(e){return null},function(e,t,n,r,i){n&&(e.wrapper?h(g(e.wrapper.open+r+e.wrapper.close),o):h(document.createTextNode(i),o))});if(o.nodeType===Node.TEXT_NODE)a.wrapper?(n.custom(a,function(i,e){return n.split(o.data,e).reduce(function(e,t,n,r){return i({current:t,acc:e,i:n,src:r})},"")},function(e){return 0==e.i?null:e.src[e.i-1]},function(e){return null},function(e,t,n,r,i){n&&h(g(""+e.wrapper.open+r+e.wrapper.close),o),i&&h(document.createTextNode(i),o)}),o.remove()):o.parentNode&&"TITLE"===o.parentNode.tagName?v(n,o,"data",i):v(n,o,"data",e);else if(o.tagName)for(var u in a.tagAttrMap){var c=a.tagAttrMap[u];"*"!==u&&u!==o.tagName.toLowerCase()||c.forEach(function(e){return v(n,o,e,i)})}{var s;o.childNodes&&(s=[],o.childNodes.forEach(function(e){s.push(e)}),s.forEach(function(e){t(n,e,r)}))}}(o,e,r),i&&(t=new MutationObserver(function(e,t){t.disconnect(),e.forEach(function(e){"childList"===e.type&&o.spacePage(e.addedNodes,r,!1)}),n()}),(n=function(){t.observe(e,{characterData:!0,childList:!0,attributes:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0})})())})}}]),r=u;function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return e.wrapper&&(t.options.spacingContent=t.options.spacingContent.replace(" ","&nbsp;")),t}function g(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function h(e,t){"HTML"!==t.tagName&&t.parentNode&&"HTML"!==t.parentNode.tagName&&t.parentNode.insertBefore(e,t)}function v(e,t,n,r){t[n]&&(r=e.space(t[n],r),t[n]!==r&&(t[n]=r))}n.default=r},{"./core/core.js":2}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e("./snippet.js"),c=(o=u)&&o.__esModule?o:{default:o};var s=function(){try{return new RegExp("(?<=exp)"),!0}catch(e){return!1}}(),f="A-Za-z0-9À-ÿĀ-ſƀ-ɏḀ-ỿ",l="[ ]+",p="[ ]*",d="[.:,?!]",g="[⺀-⿟぀-﹏]",h="["+f+"%]",v=M(h,p,g)+"|"+M(g,p,h),y=M(d,"",g+"|[A-Za-z0-9À-ÿĀ-ſƀ-ɏḀ-ỿ]"),e=M(h,"",g),f=M(g,"",h),b=new RegExp("^[ ]+$"),w=(new RegExp(g),new RegExp(d+"$")),m=new RegExp("^"+d),E=new RegExp(g+l+"$"),N=new RegExp(h+l+"$"),O=new RegExp(p+"$"),S=new RegExp(g+"$"),x=new RegExp(h+"$"),_=new RegExp("^"+g),C=new RegExp("^"+h),T=new RegExp("([ ]*)$"),j=new RegExp("("+e+"|"+f+"|"+y+")","g"),k=new RegExp("("+v+"|"+y+")","g");function M(e,t,n){return W.call(s?"(?<={0}){1}(?={2})":"{0}{1}(?={2})",e,t,n)}function W(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(0==n.length)return e;var i,o=1==n.length&&"object"===a(n[1])?n[1]:n;for(i in o)void 0!==o[i]&&(e=e.replaceAll("{"+i+"}",o[i]));return e}var L={spacingContent:" "},R={},r=(r($,[{key:"space",value:function(t,e){var n=this;return this.custom(e,function(i,e){return n.split(t,e).reduce(function(e,t,n,r){return i({current:t,acc:e,i:n,src:r})},"")},function(e){return 0==e.i?null:e.src[e.i-1]},function(e){return null},function(e,t,n,r,i){return n?(e.wrapper&&(r=""+e.wrapper.open+r+e.wrapper.close),""+t.acc+r+i):""+t.acc+i})}},{key:"custom",value:function(a,e,u,t,c){return e(function(e){var t,n=e.current,r=a.spacingContent,i="",o=!1;return $.isSpaces(n)?(o=!0,!a.forceUnifiedSpacing&&a.keepOriginalSpace&&(r=n.text)):(i=n.text,(t=u(e,a))&&($.endsWithSymbolsNeedSpaceFollowed(t)?o=!(t.is(/\.$/)&&n.is(/^\d+/)||t.is(/:$/)&&n.is(/^\d+/)):($.endsWithCJK(t)&&$.startsWithLatin(n)||$.endsWithLatin(t)&&$.startsWithCJK(n))&&(o=!0))),c(a,e,o,r,i)},a=this.resolveOptions(a))}},{key:"split",value:function(e,t){if(t=this.resolveOptions(t),"string"!=typeof e)return[new c.default(e)];var r,t=t.handleOriginalSpace?k:j,t=e.split(t).filter(function(e){return""!==e&&void 0!==e}).map(function(e,t,n){return new c.default(e)});return 1<t.length&&!s&&(t=t.flatMap(function(e,t,n){return e.is(O)?e.text.split(T).map(function(e){return new c.default(e)}):e}),r=[],t.forEach(function(e,t,n){if(1==e.text.length&&0<t&&!e.is(/^[ ]*$/)){t=n[t-1];if(!$.endsWithCJK(t)&&!$.startsWithCJK(e)||!$.endsWithLatin(t)&&!$.startsWithLatin(e))return void(r[r.length-1]=new c.default(r[r.length-1]+e))}r.push(e)}),t=r),t}},{key:"resolveOptions",value:function(e){return e?Object.assign({},this.options,A(e)):this.options}}],[{key:"config",value:function(e){e=A(e),Object.assign(R,L,e)}},{key:"endsWithCJKAndSpacing",value:function(e){return P(E,e)}},{key:"endsWithCJK",value:function(e){return P(S,e)}},{key:"endsWithLatin",value:function(e){return P(x,e)}},{key:"startsWithCJK",value:function(e){return P(_,e)}},{key:"startsWithLatin",value:function(e){return P(C,e)}},{key:"endsWithLatinAndSpacing",value:function(e){return P(N,e)}},{key:"endsWithSymbolsNeedSpaceFollowed",value:function(e){return P(w,e)}},{key:"startsWithSymbolsNeedSpaceFollowed",value:function(e){return P(m,e)}},{key:"isSpaces",value:function(e){return P(b,e)}},{key:"createSnippet",value:function(e){return new c.default(e)}}]),$);function $(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,$),this.options=(e=A(e=e),Object.assign({},L,R,e))}function P(e,t){return t instanceof c.default?t.is(e):e.test(t)}function A(e){return"string"==typeof e?{spacingContent:e}:e}n.default=r},{"./snippet.js":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=Symbol("testCache"),r=(r(a,[{key:"is",value:function(e){var t=this[o][e];return void 0===t?this[o][e]=e.test(this.text):t}},{key:"toString",value:function(){return this.text}}]),a);function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.text=e,this[o]={}}n.default=r},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("./browser.js"),o=(r=i)&&r.__esModule?r:{default:r};"function"==typeof define&&define.amd&&define([],function(){return{Spacer:o.default}}),void 0!==n&&(n.Spacer=o.default),"undefined"!=typeof window&&(window.Spacer=o.default),n.default=o.default},{"./browser.js":1}]},{},[4]);